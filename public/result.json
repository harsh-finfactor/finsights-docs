{
  "openapi": "3.0.1",
  "info": {
    "title": "DimeDive APIs",
    "version": "2.x.x"
  },
  "tags": [
    {
      "name": "DimeDive",
      "description": "Below is a set of APIs designed for data analytics and aggregation of bank data. These APIs provide efficient access to financial data, enabling you to analyze transactions, account balances, and customer behavior. They help in extracting meaningful insights by consolidating data, facilitating reporting, trend analysis, and decision-making."
    }
  ],
  "servers": [
    {
      "url": "https://dhanaprayoga.fiu.finfactor.in",
      "description": "UAT server url - Dhanaprayoga"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/pfm/api/v2/user-login": {
      "post": {
        "tags": [
          "DimeDive"
        ],
        "summary": "Get token",
        "operationId": "postUserLogin_3",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLogin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationToken"
                }
              }
            }
          },
          "204": {
            "description": "No content"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "User not authorized"
          },
          "404": {
            "description": "Resource not found"
          }
        }
      }
    },
    "/pfm/api/v2/deposit/insights": {
      "post": {
        "tags": [
          "DimeDive"
        ],
        "summary": "Insights",
        "operationId": "postDepositInsights",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DepositInsightsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DepositInsightsResponse"
                }
              }
            }
          },
          "204": {
            "description": "No content"
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "User not authorized"
          },
          "404": {
            "description": "Resource not found"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "noauthAuth": {
        "type": "http",
        "scheme": "noauth"
      },
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer"
      }
    },
    "schemas": {
      "AuthorizationToken": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string"
          }
        }
      },
      "SubscriptionRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "mobileNumber": {
            "type": "string"
          },
          "subscriptionStatus": {
            "type": "string",
            "enum": [
              "YES",
              "NO"
            ]
          },
          "subscriptionStart": {
            "type": "string",
            "format": "date-time"
          },
          "subscriptionEnd": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UserLogin": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "LinkedAccountRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          }
        }
      },
      "AccountStatementRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          },
          "txnOrder": {
            "type": "string",
            "enum": [
              "ASC",
              "DESC"
            ]
          },
          "dateRangeFrom": {
            "type": "string",
            "format": "date-time"
          },
          "dateRangeTo": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UserAccountDetails": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          },
          "accountName": {
            "type": "string"
          }
        }
      },
      "AccountDelinkRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          },
          "accountIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "CustomerConsentSessionTable": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "consentId": {
            "type": "string"
          },
          "sessionId": {
            "type": "string"
          },
          "sessionStatus": {
            "type": "string",
            "enum": [
              "READY",
              "FAILED",
              "PENDING",
              "PARTIAL"
            ]
          },
          "sessionFiDataRangeFrom": {
            "type": "string",
            "format": "date-time"
          },
          "sessionFiDataRangeTo": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string"
          },
          "new": {
            "type": "boolean"
          }
        }
      },
      "CustomerTable": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "mobileNumber": {
            "type": "string"
          },
          "subscriptionStatus": {
            "type": "string",
            "enum": [
              "Y",
              "N"
            ]
          },
          "subscriptionStart": {
            "type": "string",
            "format": "date-time"
          },
          "subscriptionEnd": {
            "type": "string",
            "format": "date-time"
          },
          "createTime": {
            "type": "string",
            "format": "date-time"
          },
          "createdBy": {
            "type": "string"
          },
          "updateTime": {
            "type": "string",
            "format": "date-time"
          },
          "updatedBy": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "new": {
            "type": "boolean"
          }
        }
      },
      "CustomerConsentId": {
        "type": "object",
        "properties": {
          "consentId": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          }
        }
      },
      "CustomerConsentTable": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "consentHandleId": {
            "type": "string"
          },
          "consentId": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          },
          "consentStatus": {
            "type": "string",
            "enum": [
              "REQUESTED",
              "ACTIVE",
              "PENDING",
              "REVOKED",
              "PAUSED",
              "REJECTED",
              "EXPIRED",
              "FAILED"
            ]
          },
          "consentStatusUpdateTime": {
            "type": "string",
            "format": "date-time"
          },
          "consentCreateTime": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "$ref": "#/components/schemas/CustomerConsentId"
          },
          "new": {
            "type": "boolean"
          }
        }
      },
      "CustomerConsentHandleTable": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "consentHandleId": {
            "type": "string"
          },
          "consentHandleStatus": {
            "type": "string",
            "enum": [
              "REQUESTED",
              "ACTIONED",
              "EXPIRED"
            ]
          },
          "consentCustId": {
            "type": "string"
          },
          "consentFiDataRangeFrom": {
            "type": "string",
            "format": "date-time"
          },
          "consentFiDataRangeTo": {
            "type": "string",
            "format": "date-time"
          },
          "consentCreateTime": {
            "type": "string",
            "format": "date-time"
          },
          "consentHandleStatusUpdateTime": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string"
          },
          "new": {
            "type": "boolean"
          }
        }
      },
      "CustomerAccountId": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          }
        }
      },
      "CustomerAccountTable": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          },
          "fipId": {
            "type": "string"
          },
          "accountType": {
            "type": "string"
          },
          "fiType": {
            "type": "string",
            "enum": [
              "DEPOSIT",
              "TERM_DEPOSIT",
              "RECURRING_DEPOSIT",
              "SIP",
              "CP",
              "GOVT_SECURITIES",
              "EQUITIES",
              "BONDS",
              "DEBENTURES",
              "MUTUAL_FUNDS",
              "ETF",
              "IDR",
              "CIS",
              "AIF",
              "INSURANCE_POLICIES",
              "NPS",
              "INVIT",
              "REIT",
              "GSTR1_3B",
              "OTHER"
            ]
          },
          "maskedAccNo": {
            "type": "string"
          },
          "linkedDate": {
            "type": "string",
            "format": "date-time"
          },
          "linkStatus": {
            "type": "string",
            "enum": [
              "LINKED",
              "UNLINKED"
            ]
          },
          "accountRefNo": {
            "type": "string"
          },
          "accountName": {
            "type": "string"
          },
          "accountProfile": {
            "type": "string"
          },
          "encrypted": {
            "type": "string"
          },
          "accountBalance": {
            "type": "number",
            "format": "double"
          },
          "lastFetchTime": {
            "type": "string",
            "format": "date-time"
          },
          "updateTime": {
            "type": "string",
            "format": "date-time"
          },
          "linkStatusUpdateTime": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "$ref": "#/components/schemas/CustomerAccountId"
          },
          "new": {
            "type": "boolean"
          }
        }
      },
      "CustomerAccountDataTable": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          },
          "txnId": {
            "type": "string"
          },
          "txnDate": {
            "type": "string",
            "format": "date-time"
          },
          "accountTransaction": {
            "type": "string"
          },
          "encrypted": {
            "type": "string"
          },
          "transactionClassification": {
            "type": "string"
          },
          "updateTime": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string"
          },
          "new": {
            "type": "boolean"
          }
        }
      },
      "ConsentsRequestConsentDetail": {
        "type": "object",
        "properties": {
          "consentStart": {
            "type": "string",
            "format": "date-time"
          },
          "consentExpiry": {
            "type": "string",
            "format": "date-time"
          },
          "consentMode": {
            "type": "string",
            "enum": [
              "VIEW",
              "STORE",
              "QUERY",
              "STREAM"
            ]
          },
          "fetchType": {
            "type": "string",
            "enum": [
              "ONETIME",
              "PERIODIC"
            ]
          },
          "consentTypes": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "TRANSACTIONS",
                "PROFILE",
                "SUMMARY"
              ]
            }
          },
          "fiTypes": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "DEPOSIT",
                "TERM_DEPOSIT",
                "RECURRING_DEPOSIT",
                "SIP",
                "CP",
                "GOVT_SECURITIES",
                "EQUITIES",
                "BONDS",
                "DEBENTURES",
                "MUTUAL_FUNDS",
                "ETF",
                "IDR",
                "CIS",
                "AIF",
                "INSURANCE_POLICIES",
                "NPS",
                "INVIT",
                "REIT",
                "GSTR1_3B",
                "OTHER"
              ]
            }
          },
          "DataConsumer": {
            "$ref": "#/components/schemas/ConsentsRequestConsentDetailDataConsumer"
          },
          "Customer": {
            "$ref": "#/components/schemas/ConsentsRequestConsentDetailCustomer"
          },
          "Purpose": {
            "$ref": "#/components/schemas/Purpose"
          },
          "FIDataRange": {
            "$ref": "#/components/schemas/ConsentsRequestConsentDetailFIDataRange"
          },
          "DataLife": {
            "$ref": "#/components/schemas/ConsentsRequestConsentDetailDataLife"
          },
          "Frequency": {
            "$ref": "#/components/schemas/ConsentsRequestConsentDetailFrequency"
          },
          "DataFilter": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConsentsRequestConsentDetailDataFilter"
            }
          }
        }
      },
      "ConsentsRequestConsentDetailCustomer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "Identifiers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConsentsRequestConsentDetailCustomerIdentifiers"
            }
          }
        }
      },
      "ConsentsRequestConsentDetailCustomerIdentifiers": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "MOBILE",
              "EMAIL",
              "OTHERS"
            ]
          },
          "value": {
            "type": "string"
          }
        }
      },
      "ConsentsRequestConsentDetailDataConsumer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "FIU",
              "USER",
              "AA"
            ]
          }
        }
      },
      "ConsentsRequestConsentDetailDataFilter": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "TRANSACTIONTYPE",
              "TRANSACTIONAMOUNT"
            ]
          },
          "operator": {
            "type": "string",
            "enum": [
              "=",
              "!=",
              ">",
              "<",
              ">=",
              "<="
            ]
          },
          "value": {
            "type": "string"
          }
        }
      },
      "ConsentsRequestConsentDetailDataLife": {
        "type": "object",
        "properties": {
          "unit": {
            "type": "string",
            "enum": [
              "MONTH",
              "YEAR",
              "DAY",
              "INF"
            ]
          },
          "value": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ConsentsRequestConsentDetailFIDataRange": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "format": "date-time"
          },
          "to": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ConsentsRequestConsentDetailFrequency": {
        "type": "object",
        "properties": {
          "unit": {
            "type": "string",
            "enum": [
              "MONTH",
              "YEAR",
              "DAY",
              "HOUR"
            ]
          },
          "value": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "Purpose": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string"
          },
          "refUri": {
            "type": "string"
          },
          "text": {
            "type": "string"
          },
          "Category": {
            "$ref": "#/components/schemas/PurposeCategory"
          }
        }
      },
      "PurposeCategory": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          }
        }
      },
      "SubmitConsentRequestPlusRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "aaCustId": {
            "type": "string"
          },
          "templateName": {
            "type": "string"
          },
          "userSessionId": {
            "type": "string"
          },
          "redirectUrl": {
            "type": "string"
          },
          "fip": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "consentDetails": {
            "$ref": "#/components/schemas/ConsentsRequestConsentDetail"
          },
          "pan": {
            "type": "string"
          },
          "dob": {
            "type": "string"
          }
        }
      },
      "SubmitConsentRequestRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "aaCustId": {
            "type": "string"
          },
          "templateName": {
            "type": "string"
          }
        }
      },
      "DerivativesProducer": {
        "type": "object",
        "properties": {
          "messageId": {
            "type": "string"
          },
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          },
          "fiTypesEnum": {
            "type": "string",
            "enum": [
              "DEPOSIT",
              "TERM_DEPOSIT",
              "RECURRING_DEPOSIT",
              "SIP",
              "CP",
              "GOVT_SECURITIES",
              "EQUITIES",
              "BONDS",
              "DEBENTURES",
              "MUTUAL_FUNDS",
              "ETF",
              "IDR",
              "CIS",
              "AIF",
              "INSURANCE_POLICIES",
              "NPS",
              "INVIT",
              "REIT",
              "GSTR1_3B",
              "OTHER"
            ]
          },
          "triggerBy": {
            "type": "string"
          },
          "eventSentTimestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "FiRequestUserRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          }
        }
      },
      "FiRequestAccountRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          }
        }
      },
      "ConsentTemplateDetailsRequest": {
        "type": "object",
        "properties": {
          "mobileNumber": {
            "type": "string"
          },
          "template": {
            "type": "string"
          }
        }
      },
      "UserDetailRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          }
        }
      },
      "MutualFundAccountStatementRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          },
          "brokerId": {
            "type": "string"
          },
          "folioNo": {
            "type": "string"
          },
          "isin": {
            "type": "string"
          },
          "txnOrder": {
            "type": "string",
            "enum": [
              "ASC",
              "DESC"
            ]
          },
          "dateRangeFrom": {
            "type": "string",
            "format": "date-time"
          },
          "dateRangeTo": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "EquityAccountStatementRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          },
          "brokerId": {
            "type": "string"
          },
          "isin": {
            "type": "string"
          },
          "txnOrder": {
            "type": "string",
            "enum": [
              "ASC",
              "DESC"
            ]
          },
          "dateRangeFrom": {
            "type": "string",
            "format": "date-time"
          },
          "dateRangeTo": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "DepositInsightsRequest": {
        "required": [
          "from",
          "uniqueIdentifier"
        ],
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "from": {
            "type": "string",
            "format": "date-time"
          },
          "to": {
            "type": "string",
            "format": "date-time"
          },
          "frequency": {
            "type": "string",
            "enum": [
              "DAILY",
              "WEEKLY",
              "MONTHLY",
              "QUARTERLY",
              "YEARLY"
            ]
          }
        }
      },
      "DepositBalanceView": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "format": "date-time"
          },
          "to": {
            "type": "string",
            "format": "date-time"
          },
          "avg": {
            "type": "number",
            "format": "double"
          },
          "min": {
            "type": "number",
            "format": "double"
          },
          "max": {
            "type": "number",
            "format": "double"
          },
          "endOfPeriod": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "DepositInsightDetailsView": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "value": {
            "type": "number",
            "format": "double"
          },
          "txnCount": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "DepositInsightView": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "format": "date-time"
          },
          "to": {
            "type": "string",
            "format": "date-time"
          },
          "total": {
            "type": "number",
            "format": "double"
          },
          "modeSplit": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DepositInsightDetailsView"
            }
          },
          "categorySplit": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DepositInsightDetailsView"
            }
          }
        }
      },
      "DepositInsightsResponse": {
        "type": "object",
        "properties": {
          "depositInsights": {
            "$ref": "#/components/schemas/DepositInsightsView"
          }
        }
      },
      "DepositInsightsView": {
        "type": "object",
        "properties": {
          "accountIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "balance": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DepositBalanceView"
            }
          },
          "outgoing": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DepositInsightView"
            }
          },
          "incoming": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DepositInsightView"
            }
          }
        }
      },
      "AAWebTokenRequest": {
        "type": "object",
        "properties": {
          "aaId": {
            "type": "string"
          }
        }
      },
      "AccountConsentsLatestRequest": {
        "type": "object",
        "properties": {
          "uniqueIdentifier": {
            "type": "string"
          },
          "accountId": {
            "type": "string"
          }
        }
      },
      "ChannelFINotificationAccount": {
        "type": "object",
        "properties": {
          "linkRefNumber": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "READY",
              "FAILED"
            ]
          }
        }
      },
      "FiNotificationRequest": {
        "type": "object",
        "properties": {
          "consentHandle": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "READY",
              "FAILED",
              "PENDING",
              "PARTIAL"
            ]
          },
          "dataSessionId": {
            "type": "string"
          },
          "accounts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChannelFINotificationAccount"
            }
          }
        }
      },
      "ConsentNotificationRequest": {
        "type": "object",
        "properties": {
          "consentHandle": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "REQUESTED",
              "ACTIVE",
              "PENDING",
              "REVOKED",
              "PAUSED",
              "REJECTED",
              "EXPIRED",
              "FAILED"
            ]
          },
          "consentId": {
            "type": "string"
          }
        }
      }
    }
  }
}